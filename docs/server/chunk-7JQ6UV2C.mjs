import './polyfills.server.mjs';
import{a as E}from"./chunk-WKKJAMEM.mjs";import{Ba as l,Ca as T,D as O,E as R,Eb as z,Hb as b,Ka as a,La as d,Ma as A,Mb as N,Na as p,Qa as B,Ra as x,Sa as L,Ta as V,V as g,W as c,aa as m,bb as h,ca as f,da as v,fa as j,pa as D,pb as U,qa as k,qb as $,v as u,va as n,wa as r,xa as C,ya as F,za as _}from"./chunk-JZ2JMAKR.mjs";import"./chunk-T55IDOPT.mjs";var I=class i{transform(t){return t.length<=175?t:t.substring(0,175)+"..."}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=j({name:"strLeftNn",type:i,pure:!0})};var K=(i,t)=>t.id;function Q(i,t){if(i&1){let e=F();n(0,"div",3)(1,"div",4)(2,"div",5),C(3,"img",6),r(),n(4,"div",7)(5,"h2"),a(6),r()(),n(7,"div",8)(8,"h6"),a(9),x(10,"strLeftNn"),r()(),n(11,"div",9)(12,"div",10)(13,"button",11),l("click",function(){let s=O(e).$implicit,S=T();return R(S.to_card(s))}),a(14,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),r()(),n(15,"div",12)(16,"button",11),l("click",function(){let s=O(e).$implicit,S=T();return R(S.to_order(s))}),a(17,"\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C"),r()()()()()}if(i&2){let e=t.$implicit;c(3),_("src",p(e.image),g)("alt",p(e.title)),c(3),d(e.title),c(3),d(L(10,6,e.description))}}var w=class i{constructor(t,e,o){this.catalogSrc=t;this.router=e;this.cdr=o}products=[];ngOnInit(){this.catalogSrc.getProducts().subscribe({next:t=>{this.products=t,this.cdr.markForCheck()},error:t=>{console.log(t),this.router.navigate(["/"])}})}to_card(t){this.catalogSrc.tea.set(t),this.router.navigate(["/tea-card"])}to_order(t){this.catalogSrc.tea.set(t),this.router.navigate(["/order"])}static \u0275fac=function(e){return new(e||i)(m(E),m(b),m(h))};static \u0275cmp=f({type:i,selectors:[["catalog-component"]],decls:7,vars:0,consts:[[1,"container","text-center","main-container"],[1,"mb-4","mb-4","display-6"],[1,"row","g-3","row-cols-1","row-cols-md-2","row-cols-lg-3","justify-content-between"],[1,"col"],[1,"card"],[1,"product__image","divimg-to-popup"],[1,"card-img-bottom",3,"src","alt"],[1,"card-title","item-text"],[1,"card-text","item-text"],[1,"row","g-2","row-cols-2","justify-content-between"],[1,"item-text","text-center"],[1,"btn","btn-primary","bitem-choice",3,"click"],[1,"item-text","mb-3","text-center"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"strong"),a(3,"\u041D\u0430\u0448\u0438 \u0447\u0430\u0439\u043D\u044B\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438"),r()(),n(4,"div",2),D(5,Q,18,8,"div",3,K),r()()),e&2&&(c(5),k(o.products))},dependencies:[I],styles:[".main-container[_ngcontent-%COMP%]{padding-top:98px;padding-bottom:98px;max-width:1920px}.main-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:0}.main-container[_ngcontent-%COMP%]   .card-img-bottom[_ngcontent-%COMP%]{width:100%;object-fit:contain}.main-container[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{padding:12px 10% 12px 12px;text-align:left}.main-container[_ngcontent-%COMP%]   .bitem-choice[_ngcontent-%COMP%]{width:120px}"]})};var W=i=>[i,"RUB","\u0440\u0443\u0431.","1.2-2","ru-RU"],P=class i{constructor(t,e,o,s){this.activateRoute=t;this.catalogSrv=e;this.router=o;this.cdr=s;this.initial()}teaItem={id:0,image:"",title:"",price:0,description:""};ngOnInit(){}to_order(t){this.catalogSrv.tea.set(t),this.router.navigate(["/order"])}initial(){let t=this.catalogSrv.tea().id;this.activateRoute.params.subscribe(e=>{this.catalogSrv.getProduct(t).subscribe({next:o=>{this.teaItem=o,this.cdr.markForCheck()},error:o=>{this.router.navigate(["/"])}})})}static \u0275fac=function(e){return new(e||i)(m(z),m(E),m(b),m(h))};static \u0275cmp=f({type:i,selectors:[["tea-card-component"]],decls:17,vars:15,consts:[[1,"container","text-center","main-container"],[1,"mb-4","mb-4","display-6","mt-5"],[1,"container","tea_divimg","text-center"],[1,"card-image",3,"src","alt"],[1,"item-text","text-center"],[1,"row","g-2","row-cols-2","justify-content-between","pt-5"],[1,"item-text","mb-3","text-center"],[")","",1,"btn","btn-primary","bitem-choice",3,"click"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"strong"),a(3),r(),n(4,"div",2),C(5,"img",3),r(),n(6,"div",4)(7,"h6"),a(8),r()(),n(9,"div",5)(10,"div",4)(11,"h3"),a(12),x(13,"currency"),r()(),n(14,"div",6)(15,"button",7),l("click",function(){return o.to_order(o.teaItem)}),a(16,"\u041A\u0443\u043F\u0438\u0442\u044C"),r()()()()()),e&2&&(c(3),d(o.teaItem.title),c(2),_("src",p(o.teaItem.image),g)("alt",p(o.teaItem.title)),c(3),d(o.teaItem.description),c(4),A("\u0426\u0435\u043D\u0430 ",V(13,7,B(13,W,o.teaItem.price))))},dependencies:[U],styles:[".main-container[_ngcontent-%COMP%]{padding-top:98px;padding-bottom:98px;max-width:800px}.main-container[_ngcontent-%COMP%]   .tea_divimg[_ngcontent-%COMP%]{width:550px}.main-container[_ngcontent-%COMP%]   .tea_divimg[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;object-fit:contain}.main-container[_ngcontent-%COMP%]   .bitem-choice[_ngcontent-%COMP%]{width:120px}"]})};var X=[{path:"catalog",component:w},{path:"tea-card",component:P}],M=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=v({type:i});static \u0275inj=u({imports:[N.forChild(X),N]})};var q=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=v({type:i});static \u0275inj=u({imports:[$,M]})};export{q as ProductsModule};
